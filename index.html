<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>ЦНАП Онлайн — Головна</title>

<style>
:root{
  --bg:#f4f6f8;
  --card:#ffffff;
  --text:#0f172a;
  --muted:#64748b;
  --accent:#0a4d8c;
  --border:rgba(0,0,0,.06);
  --radius:18px;
  --trans:.35s cubic-bezier(.16,1,.3,1);
  --container-pad:8%;
}
*{box-sizing:border-box;font-family:Inter,-apple-system,"Segoe UI",Roboto,sans-serif}
body{margin:0;min-height:100vh;background:var(--bg);color:var(--text);display:flex;flex-direction:column}

/* Header */
header{
  background:var(--card);border-bottom:1px solid var(--border);
  padding:18px var(--container-pad);display:flex;justify-content:space-between;align-items:center;
  position:sticky;top:0;z-index:20;
}
.logo{font-weight:900;color:var(--accent);text-decoration:none;font-size:1.15rem}
nav a{margin-left:30px;text-decoration:none;color:var(--muted);font-size:.95rem;transition:var(--trans)}
nav a:hover{color:var(--accent)}
.admin-link{display:none;color:#c1121f;font-weight:700}

/* User panel */
.user-panel{
  background:var(--card);margin:36px var(--container-pad) 24px;padding:26px;border-radius:var(--radius);
  display:flex;justify-content:space-between;align-items:center;border:1px solid var(--border);box-shadow:0 10px 30px rgba(0,0,0,.03)
}
.id-label{font-size:.72rem;letter-spacing:.08em;text-transform:uppercase;color:var(--muted);font-weight:700}
.name-input{margin-top:6px;border:none;border-bottom:2px solid #eceff1;font-size:1.25rem;font-weight:800;outline:none;background:transparent;width:320px}
.name-input:focus{border-color:var(--accent)}
.id-value{margin-top:6px;font-family:monospace;font-weight:800;font-size:1.05rem;color:var(--accent)}
</style>
</head>
<body>

<header>
  <a class="logo" href="index.html">ЦНАП.УКР</a>
  <nav>
    <a href="index.html">Головна</a>
    <a href="profile.html">Мої документи</a>
    <a id="nav-admin" class="admin-link" href="admin.html">Адміністрування</a>
  </nav>
</header>

<!-- Панель користувача -->
<div class="user-panel">
  <div>
    <div class="id-label">Кабінет громадянина</div>
    <input id="user-name" class="name-input" placeholder="Введіть повне ім'я" />
  </div>
  <div style="text-align:right">
    <div class="id-label">Цифровий ідентифікатор</div>
    <div id="user-id" class="id-value">UA-0000</div>
  </div>
</div>

<main style="padding:0 var(--container-pad) 80px;max-width:1200px;margin:0 auto;width:100%">
  <section class="hero" style="margin-bottom:36px">
    <h1 style="font-size:2.4rem;margin:0 0 10px">Послуги без черг та паперів</h1>
    <p style="color:#64748b;margin:0 0 30px">
      Виберіть послугу, щоб подати заявку онлайн. Для перегляду ваших документів перейдіть у "Мої документи".
    </p>
  </section>

  <div class="services-grid" style="display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:24px">
    <div class="card" onclick="go('ID-картка')" style="background:#fff;padding:34px;border-radius:16px;border:1px solid rgba(0,0,0,.06);cursor:pointer;position:relative;transition:.35s cubic-bezier(.16,1,.3,1)">
      <h3>Паспорти</h3>
      <p>Оформлення та заміна ID-картки.</p>
    </div>
    <div class="card" onclick="go('Земельний_витяг')" style="background:#fff;padding:34px;border-radius:16px;border:1px solid rgba(0,0,0,.06);cursor:pointer;position:relative;transition:.35s cubic-bezier(.16,1,.3,1)">
      <h3>Земля та майно</h3>
      <p>Витяги, реєстрація власності.</p>
    </div>
    <div class="card" onclick="go('Транспорт')" style="background:#fff;padding:34px;border-radius:16px;border:1px solid rgba(0,0,0,.06);cursor:pointer;position:relative;transition:.35s cubic-bezier(.16,1,.3,1)">
      <h3>Транспорт</h3>
      <p>Електронні техпаспорти та реєстрації.</p>
    </div>
  </div>
</main>

<!-- Secret admin dot -->
<button id="secret-btn" style="position:fixed;bottom:20px;right:20px;width:12px;height:12px;border-radius:50%;border:none;opacity:.25;cursor:pointer"></button>

<!-- Firebase (для ініціалізації користувача, тільки ID/ім'я) -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>
<script>
const firebaseConfig = {
  apiKey: "AIzaSyCApR43px9v7aSh-84HiF_xAo-Me7j46e4",
  authDomain: "cnapminecraft.firebaseapp.com",
  databaseURL: "https://cnapminecraft-default-rtdb.firebaseio.com",
  projectId: "cnapminecraft",
  storageBucket: "cnapminecraft.firebasestorage.app",
  messagingSenderId: "935970032676",
  appId: "1:935970032676:web:49014e14b8adedfe99dcb1"
};
firebase.initializeApp(firebaseConfig);
const db = firebase.database();

/* ===== Ініціалізація користувача ===== */
let uid = localStorage.getItem('citizen_id');
if(!uid){
  uid = 'UA-'+Math.floor(1000+Math.random()*9000)+'-'+Math.floor(10+Math.random()*90)+'-'+Math.floor(100+Math.random()*900);
  localStorage.setItem('citizen_id', uid);
}
document.getElementById('user-id').textContent = uid;

/* Ім'я */
const nameInput = document.getElementById('user-name');
nameInput.value = localStorage.getItem('citizen_name') || '';
nameInput.addEventListener('input', e=>{
  localStorage.setItem('citizen_name', e.target.value);
});

/* Навігація по послугам */
function go(service){
  location.href = 'apply.html?service=' + encodeURIComponent(service);
}

/* Секретний режим адміна (локально) */
const secretBtn = document.getElementById('secret-btn');
const adminNav = document.getElementById('nav-admin');
function updateRole(){
  const role = localStorage.getItem('role')==='highadmin'?'highadmin':'user';
  adminNav.style.display = role==='highadmin'?'inline-block':'none';
  secretBtn.style.background = role==='highadmin'?'#16a34a':'#94a3b8';
}
secretBtn.addEventListener('click', ()=>{
  const current = localStorage.getItem('role')==='highadmin'?'user':'highadmin';
  localStorage.setItem('role', current);
  updateRole();
});
updateRole();
</script>
</body>
  </html>
